<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Project Tektra</title>
  </head>
  <body>
    <div id="app">
      <div class="header">
        <h1>🚀 Project Tektra</h1>
        <div class="status">
          <div class="status-dot" id="statusDot"></div>
          <span id="statusText">Initializing...</span>
        </div>
        <button id="settingsBtn" class="icon-btn">⚙️</button>
      </div>

      <div class="main-container">
        <!-- Chat Area -->
        <div class="chat-section">
          <div class="chat-messages" id="chatMessages">
            <div class="message system">
              Welcome to Project Tektra! Your local AI assistant is ready.
            </div>
          </div>
          
          <div class="chat-input-container">
            <input 
              type="text" 
              id="messageInput" 
              placeholder="Type your message..." 
              autocomplete="off"
            />
            <button id="sendBtn" class="send-btn">
              <span class="send-icon">📤</span>
            </button>
            <button id="voiceBtn" class="voice-btn">
              <span class="voice-icon">🎤</span>
            </button>
          </div>
        </div>

        <!-- Sidebar -->
        <div class="sidebar">
          <div class="info-panel">
            <h3>🤖 AI Status</h3>
            <div class="model-info">
              <div class="model-name" id="modelName">Loading...</div>
              <div class="model-status" id="modelStatus">Checking connection...</div>
            </div>
            
            <button id="clearBtn" class="action-btn">🗑️ Clear Chat</button>
            <button id="refreshBtn" class="action-btn">🔄 Refresh</button>
          </div>

          <div class="voice-panel">
            <h3>🎙️ Voice Features</h3>
            <div class="voice-controls">
              <label class="toggle">
                <input type="checkbox" id="voiceEnabled" checked>
                <span class="slider"></span>
                Voice Input
              </label>
              
              <label class="toggle">
                <input type="checkbox" id="autoSpeech">
                <span class="slider"></span>
                Auto Speech
              </label>
            </div>
            
            <div class="voice-indicator hidden" id="voiceIndicator">
              <div class="wave-animation">
                <div class="wave"></div>
                <div class="wave"></div>
                <div class="wave"></div>
              </div>
              <span>Listening...</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Settings Modal -->
      <div id="settingsModal" class="modal hidden">
        <div class="modal-content">
          <div class="modal-header">
            <h2>⚙️ Settings</h2>
            <button id="closeSettings" class="close-btn">✕</button>
          </div>
          
          <div class="modal-body">
            <div class="setting-group">
              <label for="ollamaModel">AI Model:</label>
              <select id="ollamaModel">
                <option value="Built-in Assistant">Built-in Assistant</option>
                <option value="Local Pattern Matcher">Local Pattern Matcher</option>
              </select>
            </div>
            
            <div class="setting-group" style="display: none;">
              <label for="ollamaUrl">Model URL (Embedded):</label>
              <input type="text" id="ollamaUrl" value="embedded" readonly />
            </div>
            
            <div class="setting-group">
              <label class="toggle">
                <input type="checkbox" id="settingsVoiceEnabled">
                <span class="slider"></span>
                Enable Voice Features
              </label>
            </div>
          </div>
          
          <div class="modal-footer">
            <button id="saveSettings" class="save-btn">💾 Save Settings</button>
          </div>
        </div>
      </div>
    </div>

    <script type="module" src="/main.js"></script>
  </body>
</html>